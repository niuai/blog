(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{370:function(t,s,e){t.exports=e.p+"assets/img/virtual-switch.bf01189e.png"},371:function(t,s,e){t.exports=e.p+"assets/img/new-switch.8428ca07.png"},372:function(t,s,e){t.exports=e.p+"assets/img/config-switch.99d77a09.png"},373:function(t,s,e){t.exports=e.p+"assets/img/minikube-dashboard.45cbc460.png"},374:function(t,s,e){t.exports=e.p+"assets/img/delete-network.bc1f6996.png"},408:function(t,s,e){"use strict";e.r(s);var r=e(45),a=Object(r.a)({},(function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"minikube"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#minikube"}},[t._v("#")]),t._v(" Minikube")]),t._v(" "),r("h2",{attrs:{id:"minikube-安装-windows-10-pro-hyper-v"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#minikube-安装-windows-10-pro-hyper-v"}},[t._v("#")]),t._v(" Minikube 安装（Windows 10 Pro + Hyper-V）")]),t._v(" "),r("blockquote",[r("p",[t._v("自己已安装好 Docker")])]),t._v(" "),r("ol",[r("li",[r("p",[t._v("下载 Minikube："),r("a",{attrs:{href:"https://github.com/kubernetes/minikube/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/kubernetes/minikube/releases"),r("OutboundLink")],1)])]),t._v(" "),r("li",[r("p",[t._v("下载 kubectl（kubernetes 的客户端）："),r("a",{attrs:{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Install and Set Up kubectl"),r("OutboundLink")],1)])]),t._v(" "),r("li",[r("p",[t._v("将以上两个工具的路径加到环境变量 Path 中")])]),t._v(" "),r("li",[r("p",[t._v("打开 Hyper-V 管理器创建一个外部虚拟交换机")]),t._v(" "),r("blockquote",[r("p",[t._v("注意：外部网络这里可能要多试几个，并非所有都是可行的，最好选名字带有 Wireless 的")])]),t._v(" "),r("p",[r("img",{attrs:{src:e(370),alt:"虚拟交换机"}}),r("br"),t._v(" "),r("img",{attrs:{src:e(371),alt:"新建虚拟交换机"}}),r("br"),t._v(" "),r("img",{attrs:{src:e(372),alt:"配置"}})])]),t._v(" "),r("li",[r("p",[t._v("以 "),r("strong",[t._v("管理员身份")]),t._v(" 打开命令行，并键入以下命令来创建基于 Hyper-V 的 Kubernetes 测试环境（如果之前 #4 中的“外部网络”没有选好，敲入命令后可能会一直卡在创建虚拟机的步骤，这时就换个“外部网络”试试）")]),t._v(" "),r("div",{staticClass:"language-powershell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-powershell"}},[r("code",[t._v("minikube "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("image"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mirror"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("country cn `\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("iso"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("url=https:"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("kubernetes"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("oss"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cn"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("hangzhou"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("aliyuncs"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("minikube"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iso"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("minikube"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v1"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("10"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("0"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iso `\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("registry"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("mirror=https:"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("registry"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("docker"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("cn"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com `\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("vm"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("driver="),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hyperv"')]),t._v(" `\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("hyperv"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("virtual"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),r("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("switch")]),t._v("="),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MinikubeSwitch"')]),t._v(" `\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("memory=2048 `\n    "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("insecure"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("registry="),r("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10.0.0.0/24"')]),t._v("   "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 允许拉取所有HTTP服务器的镜像")]),t._v("\n")])])])]),t._v(" "),r("li",[r("p",[t._v("然后就可以用以下命令来查看安装状态（minikube 命令需要管理员权限）：")]),t._v(" "),r("ul",[r("li",[r("code",[t._v("minikube status")]),t._v("：安装状态")]),t._v(" "),r("li",[r("code",[t._v("minikube dashboard")]),t._v("：打开 kubernetes 状态面板（浏览器）")]),t._v(" "),r("li",[r("code",[t._v("kubectl cluster-info")]),t._v("：查看 kubernetes 主节点状态")])]),t._v(" "),r("p",[r("img",{attrs:{src:e(373),alt:"管理界面"}})])]),t._v(" "),r("li",[r("p",[t._v("在不用的时候可以通过运行以下命令来停止、开启 MiniKube")]),t._v(" "),r("div",{staticClass:"language-shell extra-class"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[t._v("minikube stop\nminikube start\nminikube delete "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除 minikube")]),t._v("\n")])])])])]),t._v(" "),r("blockquote",[r("p",[t._v("参考文章："),r("br"),t._v(" "),r("a",{attrs:{href:"https://www.cnblogs.com/shanyou/p/8503839.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/shanyou/p/8503839.html"),r("OutboundLink")],1),r("br"),t._v(" "),r("a",{attrs:{href:"https://yq.aliyun.com/articles/221687",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://yq.aliyun.com/articles/221687"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"使用中可能遇到的问题"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用中可能遇到的问题"}},[t._v("#")]),t._v(" 使用中可能遇到的问题")]),t._v(" "),r("ol",[r("li",[r("p",[t._v("删除多余的网络连接")]),t._v(" "),r("p",[t._v("在使用 Minikube 时，Hyper-V 每次的开启、关闭之后，会在 "),r("code",[t._v("控制面板 -> 网络和 Internet -> 网络连接")]),t._v(" 下面创建很多新的“网络连接”，在该界面下无法直接删除（被禁用），那么该如何卸载他们呢？")]),t._v(" "),r("ul",[r("li",[t._v("通过在“设备管理器”中卸载他们。"),r("a",{attrs:{href:"https://jingyan.baidu.com/article/148a1921a2f6c94d71c3b132.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("相关文档"),r("OutboundLink")],1)])]),t._v(" "),r("p",[r("img",{attrs:{src:e(374),alt:"删除现有网络连接"}})])])])])}),[],!1,null,null,null);s.default=a.exports}}]);